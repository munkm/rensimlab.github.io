---
layout: default
---

<script src="https://cdn.jsdelivr.net/npm/vega@3.0.10"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-lite@2.1.3"></script>
<script src="https://cdn.jsdelivr.net/npm/vega-embed@3.0.0"></script>

<h1>Simulation: {{page.sim_name}}</h1>

<p>Explore this dataset in Jupyter Notebook by clicking 
<a href="https://girder.rensimlab.xyz/#frontend/{{site.data.notebooks.frontend}}/{{site.data.notebooks[page.sim_name]}}">here</a>.</p>

<div id="vis"></div>

<script type="text/javascript">
  var yourVlSpec = {
      "$schema": "https://vega.github.io/schema/vega-lite/v2.0.json",
      "description": "A simple bar chart with embedded data.",
      "data": {
	  "values": [
	      {% for v in site.data.simulations[page.sim_name] %}
	      {% if v['num_halos'] == 0 %} {% continue %} {% endif %}
	      {"z": {{v['z']}}, "num": {{v['num_halos']}}} {% if forloop.last != true %},{%endif%}
              {% endfor %}
	  ]
      },
      "layer": [
          {
    	      "mark": {"type": "point", "filled": true},
    	      "encoding": {
      	          "x": {"field": "z",
                        "type": "quantitative",
                        "scale": {"type": "log"}},
      	          "y": {"field": "num",
                        "type": "quantitative",
                        "scale": {"type": "log"}}
              }
    	  },
          {
	      "mark": "line",
	      "encoding": {
	  	  "x": {"field": "z",
                        "axis": {"title": "Redshift (z)"},
                        "type": "quantitative",
                        "scale": {"type": "log"}},
        	  "y": {"field": "num",
                        "axis": {"title": "Number of Halos"},
                        "type": "quantitative",
                        "scale": {"type": "log"}}
	      }
          }
      ]
    }
  vegaEmbed("#vis", yourVlSpec);
</script>

{{page.content}}

<hr>

 <i class="fa fa-download fa-lg fa-fw" title="Download data"></i> - Download Data 
 <i class="fa fa-external-link fa-lg fa-fw" title="Explore in Jupyter"></i> - Explore in Jupyter

<TABLE>
  <TR><TH>Snapshot</TH>
      <TH>Redshift</TH>
      <TH>Halo Count</TH>
      <TH>Actions</TH>
  </TR>
{% for v in site.data.simulations[page.sim_name] %}
<TR><TD>{{v['snapshot']}}</TD>
    <TD>{{v['z']}}</TD>
    <TD>{{v['num_halos']}}</TD>
    <TD>
      <div id="action-list" style="text-align:center" class="fa">
        {% if v['on_rsl'] %}
        <a href="{{site.data.notebooks.download_url}}/{{v['on_rsl']}}/download">
          <i class="fa fa-download fa-lg fa-fw" title="Download data ({{v['size']}} GB)"></i> [{{v['size'}} GB]
        </a>
        <a href="{{site.data.notebooks.notebook_url}}/{{v['on_rsl']}}">
          <i class="fa fa-external-link fa-lg fa-fw" title="Explore in Jupyter"></i>
        </a>
        {% else %}
        <i class="fa fa-download fa-lg fa-fw" title="Download data"></i>
        {% endif %}
      </div>
    </TD>
</TR>
{% endfor %}
</TABLE>
